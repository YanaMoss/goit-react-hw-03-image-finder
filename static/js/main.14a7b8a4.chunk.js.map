{"version":3,"sources":["components/Button/Button.styled.jsx","components/Button/Button.jsx","components/services/image-api.js","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/App/App.jsx","index.js"],"names":["LoadMore","styled","button","Button","title","type","onClick","axios","defaults","baseURL","params","image_type","key","per_page","fetchImages","a","page","query","id","get","q","ImageGalleryContainer","ul","ImageGalleryItemComponent","li","ImageGalleryItem","props","url","name","getImage","e","currentTarget","src","alt","width","height","className","ImageGallery","state","images","total","loading","imageId","prevProps","prevState","prevQuery","nextQuery","this","prevPage","nextPage","setState","then","response","data","hits","totalHits","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","timeout","map","largeImageURL","tags","length","Component","Overlay","div","ModalContent","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","event","target","addEventListener","removeEventListener","createPortal","children","SearchbarForm","header","SearchForm","form","SearchFormButton","SearchFormButtonLabel","span","SearchFormInput","input","Searchbar","handleChange","value","replace","handleSubmit","preventDefault","trim","onSubmit","toast","info","autocomplete","autofocus","placeholder","onChange","App","openModal","image","handleImage","toggleModal","openImage","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.14a7b8a4.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const LoadMore = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  &: :hover, :focus{\r\n   background-color: #303f9f;\r\n }\r\n`;\r\n","import PropTypes from 'prop-types';\r\nimport { LoadMore } from './Button.styled';\r\n\r\nexport const Button = ({ title, type, onClick }) => (\r\n  <LoadMore type={type} onClick={onClick}>\r\n    {title}\r\n  </LoadMore>\r\n);\r\n\r\nButton.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23643483-d75e612401c1d9a4094e2335a';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  image_type: 'photo',\r\n  key: API_KEY,\r\n  per_page: 12,\r\n};\r\n\r\nconst fetchImages = async ({ page, query, id }) => {\r\n  return await axios.get('', {\r\n    params: {\r\n      page,\r\n      q: query,\r\n      id: id,\r\n    },\r\n  });\r\n};\r\n\r\nexport default fetchImages;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ImageGalleryContainer = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const ImageGalleryItemComponent = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import PropTypes from 'prop-types';\r\nimport { ImageGalleryItemComponent } from './ImageGallery.styled';\r\n\r\nexport const ImageGalleryItem = props => {\r\n  const { id, url, name, getImage } = props;\r\n  return (\r\n    <ImageGalleryItemComponent\r\n      key={id}\r\n      id={id}\r\n      onClick={e => getImage(e.currentTarget.id)}\r\n    >\r\n      <img\r\n        src={url}\r\n        alt={name}\r\n        width=\"400\"\r\n        height=\"250\"\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </ImageGalleryItemComponent>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { Button } from '../Button/Button';\r\nimport fetchImages from '../services/image-api';\r\nimport { ImageGalleryItem } from './ImageGalleryItem';\r\nimport { ImageGalleryContainer } from './ImageGallery.styled';\r\n\r\nexport class ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    total: '',\r\n    loading: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.query;\r\n    const nextQuery = this.props.query;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ loading: true });\r\n      fetchImages({ page: this.state.page, query: nextQuery })\r\n        .then(response =>\r\n          this.setState({\r\n            images: [...response.data.hits],\r\n            total: response.data.totalHits,\r\n          }),\r\n        )\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n    if (prevPage < nextPage) {\r\n      this.setState({ loading: true });\r\n      fetchImages({ page: nextPage, query: prevQuery })\r\n        .then(response =>\r\n          this.setState({\r\n            images: [...prevState.images, ...response.data.hits],\r\n          }),\r\n        )\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  nextPage() {\r\n    const nextPage = this.state.page + 1;\r\n    this.setState({ page: nextPage });\r\n  }\r\n\r\n  getImage = imageId => {\r\n    this.props.onClick(imageId);\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, total } = this.state;\r\n    return (\r\n      <div>\r\n        {loading && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n        <ImageGalleryContainer>\r\n          {images.map(({ id, largeImageURL, tags }) => (\r\n            <ImageGalleryItem\r\n              id={id}\r\n              url={largeImageURL}\r\n              name={tags}\r\n              getImage={this.getImage}\r\n            />\r\n          ))}\r\n        </ImageGalleryContainer>\r\n        {images.length < total && (\r\n          <Button\r\n            type={'button'}\r\n            title={'Load more'}\r\n            onClick={() => this.nextPage()}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nexport const ModalContent = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { ModalContent, Overlay } from './Modal.styled';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <Overlay onClick={this.handleOverlayClick}>\r\n        <ModalContent>{this.props.children} </ModalContent>\r\n      </Overlay>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const SearchbarForm = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SearchFormButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\nexport const SearchFormButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const SearchFormInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  SearchbarForm,\r\n  SearchForm,\r\n  SearchFormButton,\r\n  SearchFormButtonLabel,\r\n  SearchFormInput,\r\n} from './Searchbar.styled';\r\n\r\nexport class Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value.replace(' ', '+') });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { query } = this.state;\r\n    e.preventDefault();\r\n    if (this.state.query.trim() === '') {\r\n      toast.info('Введите текс для поиска.');\r\n      return;\r\n    }\r\n    this.props.onSubmit(query);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SearchbarForm>\r\n        <SearchForm onSubmit={this.handleSubmit}>\r\n          <SearchFormButton type=\"submit\">\r\n            <SearchFormButtonLabel>Search</SearchFormButtonLabel>\r\n          </SearchFormButton>\r\n\r\n          <SearchFormInput\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </SearchForm>\r\n      </SearchbarForm>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Loader from 'react-loader-spinner';\r\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\r\nimport fetchImages from '../services/image-api';\r\nimport { Modal } from '../Modal/Modal';\r\nimport { Searchbar } from '../Searchbar/Searchbar';\r\n\r\nexport class App extends Component {\r\n  state = {\r\n    query: '',\r\n    openModal: false,\r\n    loading: false,\r\n    image: {\r\n      id: '',\r\n      url: '',\r\n      name: '',\r\n    },\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { id } = this.state.image;\r\n    if (prevState.image.id !== this.state.image.id) {\r\n      this.setState({ loading: true });\r\n      fetchImages({ id: id })\r\n        .then(response =>\r\n          this.setState({\r\n            openModal: true,\r\n            image: {\r\n              id: response.data.hits[0].id,\r\n              url: response.data.hits[0].largeImageURL,\r\n              name: response.data.hits[0].tags,\r\n            },\r\n          }),\r\n        )\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n  }\r\n  handleImage = query => {\r\n    this.setState({ query });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ openModal }) => ({\r\n      openModal: !openModal,\r\n    }));\r\n  };\r\n  getImage = id => {\r\n    this.setState({ image: { id: id } });\r\n  };\r\n  render() {\r\n    const { url, name } = this.state.image;\r\n    const { loading, query, openModal } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleImage} />\r\n        <ImageGallery\r\n          query={query}\r\n          onClick={imageId => this.getImage(imageId)}\r\n        />\r\n        {openModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={url} alt={name} openImage={this.openImage} />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n        {loading && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { App } from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}